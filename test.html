<!DOCTYPE html>
<html lang="en">
<head>
    <style>
        /* Add these specific Discover styles to your existing Learn.html CSS */
        .search-section {
            padding: 2rem 4rem;
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            gap: 1rem;
            align-items: center;
        }
        #storySearch {
            background: transparent;
            border: none;
            border-bottom: 1px solid rgba(8, 145, 178, 0.3);
            padding: 0.5rem;
            font-family: 'Montserrat', sans-serif;
            font-size: 1rem;
            color: var(--obsidian);
            width: 300px;
        }
        .featured-banner {
            grid-column: 1 / -1;
            background: var(--obsidian);
            color: var(--platinum);
            padding: 3rem;
            margin-bottom: 2rem;
            border: 1px solid var(--teal);
        }
    </style>
</head>
<body>
    <header class="page-header">
        <div class="page-header-content">
            <h1 class="page-title">DISCOVER</h1>
            <p class="page-subtitle">Stories of transformation across nature, objects, and systems.</p>
        </div>
    </header>

    <main>
        <div class="search-section">
            <input type="text" id="storySearch" placeholder="Search the shift..." onkeyup="filterStories()">
        </div>

        <div class="exercises-grid" id="discoveryGrid">
            <p>Loading the reVISION library...</p>
        </div>
    </main>

    <script>
        const AIRTABLE_TOKEN = 'YOUR_TOKEN_HERE';
        const BASE_ID = 'YOUR_BASE_ID_HERE';
        const TABLE_NAME = 'Stories';

        async function fetchStories() {
            const response = await fetch(`https://api.airtable.com/v0/${BASE_ID}/${TABLE_NAME}`, {
                headers: { Authorization: `Bearer ${AIRTABLE_TOKEN}` }
            });
            const data = await response.json();
            displayStories(data.records);
        }

        function displayStories(records) {
            const grid = document.getElementById('discoveryGrid');
            grid.innerHTML = records.map(record => {
                const f = record.fields;
                return `
                    <div class="exercise-card">
                        <div class="exercise-card-header">
                            <h3 class="exercise-card-title">${f.Title}</h3>
                            <span style="color: var(--teal); font-size: 0.7rem; letter-spacing: 0.1em; text-transform: uppercase;">${f.Category}</span>
                        </div>
                        <div class="exercise-card-description">
                            <p style="font-style: italic; opacity: 0.5; font-size: 0.9rem;">From: ${f.Original_Perspective}</p>
                            <p style="font-weight: 500; margin-bottom: 1rem;">To: ${f.Revision_Perspective}</p>
                            <a href="${f.Link}" target="_blank" style="color: var(--teal); text-decoration: none; font-family: Montserrat; font-size: 0.8rem; letter-spacing: 0.1em;">READ ARTICLE â†’</a>
                        </div>
                    </div>
                `;
            }).join('');
        }

        document.addEventListener('DOMContentLoaded', fetchStories);
    </script>
</body>
</html>
